2023-12-03 23:34:45,996 INFO 
################################################################################
                               [ JSI CLI STARTS ]                               
################################################################################

2023-12-03 23:34:45,997 INFO sys.argv: ['/var/db/scripts/op/jsi', '--api-token', 'set']
2023-12-03 23:34:45,997 INFO 
********************************************************************************
                             API-TOKEN SET COMMAND                             
********************************************************************************

2023-12-03 23:34:45,998 DEBUG call "user_self" function...
2023-12-03 23:34:45,998 INFO 
Enter the API Token to authenticate your requests. This token will be used for all subsequent commands.

2023-12-03 23:35:05,107 DEBUG call "api_token_set" function...
2023-12-03 23:35:05,108 DEBUG call "cloud_regions" function...
2023-12-03 23:35:05,418 DEBUG 
============ BEGIN ============

<<<<<<<<<<<< Send
    Request URL: "https://manage.mist.com/env.json"
    Request Method: GET
    Request Headers:
        {
            "User-Agent": "python-requests/2.28.1",
            "Accept-Encoding": "gzip, deflate",
            "Accept": "*/*",
            "Connection": "keep-alive",
            "Content-Type": "application/json",
            "Authorization": "Token xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
        }
    Request Payload:
        None

>>>>>>>>>>>> Receive
    Response URL: "https://manage.mist.com/env.json"
    Response Status Code: 200
    Response Headers:
        {
            "Content-Type": "application/json",
            "Content-Length": "231",
            "Connection": "keep-alive",
            "Date": "Mon, 04 Dec 2023 04:36:40 GMT",
            "x-amz-meta-s3cmd-attrs": "md5:deac37b8a2c2432b43a73f13e9325ca1",
            "Cache-Control": "no-cache, no-store, must-revalidate",
            "Content-Encoding": "gzip",
            "Last-Modified": "Tue, 21 Nov 2023 15:46:40 GMT",
            "ETag": "\"deac37b8a2c2432b43a73f13e9325ca1\"",
            "Server": "AmazonS3",
            "X-Cache": "Miss from cloudfront",
            "Via": "1.1 d6c4285493d99dadeef71bff71cab482.cloudfront.net (CloudFront)",
            "X-Amz-Cf-Pop": "BOS50-P2",
            "X-Amz-Cf-Id": "U_zFHdvG5FOIxwNLlQqU4_x-Wci_jDavkDlhLTZnfetTBny5miBSbA==",
            "X-XSS-Protection": "1; mode=block",
            "X-Frame-Options": "SAMEORIGIN",
            "Referrer-Policy": "same-origin",
            "Content-Security-Policy": "default-src https: 'self' 'unsafe-inline' data:; connect-src wss: https:; script-src https: 'unsafe-eval' 'unsafe-inline'; style-src https: 'unsafe-inline'; worker-src 'self' blob: https: 'unsafe-eval' 'unsafe-inline';",
            "X-Content-Type-Options": "nosniff",
            "Strict-Transport-Security": "max-age=31536000; includeSubDomains; preload"
        }
    Response Payloads:
        {
            "environment": "production",
            "apiBase": "https://api.mist.com/api/v1/",
            "webSocket": "wss://api-ws.mist.com/api-ws/v1/stream",
            "bucket": "https://status-production.mistsys.com/",
            "cloudRegions": [
                {
                    "name": "Global",
                    "ui": "https://manage.ac2.mist.com"
                },
                {
                    "name": "Europe",
                    "ui": "https://manage.eu.mist.com"
                },
                {
                    "name": "APAC",
                    "ui": "https://manage.ac5.mist.com"
                }
            ]
        }

============ END ==============

2023-12-03 23:35:05,418 INFO region information: [
    {
        "name": "Global",
        "ui": "https://manage.mist.com"
    },
    {
        "name": "Global",
        "ui": "https://manage.ac2.mist.com"
    },
    {
        "name": "Europe",
        "ui": "https://manage.eu.mist.com"
    },
    {
        "name": "APAC",
        "ui": "https://manage.ac5.mist.com"
    }
]
2023-12-03 23:35:05,418 INFO Call user_self for checking which API endpoint owns token: region "Global" - "https://api.mist.com"
2023-12-03 23:35:05,419 DEBUG call "user_self" function...
2023-12-03 23:35:05,798 DEBUG 
============ BEGIN ============

<<<<<<<<<<<< Send
    Request URL: "https://api.mist.com/api/v1/self"
    Request Method: GET
    Request Headers:
        {
            "User-Agent": "python-requests/2.28.1",
            "Accept-Encoding": "gzip, deflate",
            "Accept": "*/*",
            "Connection": "keep-alive",
            "Content-Type": "application/json",
            "Authorization": "Token xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
        }
    Request Payload:
        None

>>>>>>>>>>>> Receive
    Response URL: "https://api.mist.com/api/v1/self"
    Response Status Code: 200
    Response Headers:
        {
            "Date": "Mon, 04 Dec 2023 04:36:39 GMT",
            "Content-Type": "application/json",
            "Content-Length": "130",
            "Connection": "keep-alive",
            "Vary": "Accept, Cookie, Origin",
            "Allow": "GET, OPTIONS, DELETE, PUT",
            "X-Frame-Options": "DENY",
            "Cache-Control": "no-cache, no-store",
            "Pragma": "no-cache",
            "Access-Control-Allow-Credentials": "true",
            "Access-Control-Expose-Headers": "X-Auth-Token,X-CSRFToken,X-Page-Limit,X-Page-Page,X-Page-Total,X-Requested-With",
            "Content-Security-Policy": "default-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';",
            "X-Content-Type-Options": "nosniff",
            "X-Xss-Protection": "1; mode=block",
            "Strict-Transport-Security": "max-age=31536000; includeSubDomains; preload",
            "Referrer-Policy": "strict-origin-when-cross-origin",
            "Permissions-Policy": "geolocation=()",
            "X-Kong-Upstream-Latency": "96",
            "X-Kong-Proxy-Latency": "1",
            "Via": "kong/2.1.4"
        }
    Response Payloads:
        {
            "name": "t1",
            "privileges": [
                {
                    "scope": "org",
                    "org_id": "d493e95f-07ad-4163-85f0-5285cf26be94",
                    "role": "admin",
                    "name": "Juniper-test1"
                }
            ]
        }

============ END ==============

2023-12-03 23:35:05,799 INFO API token is valid for the "Global" region
2023-12-03 23:35:05,799 INFO API endpoint for the "Global" region is https://api.mist.com
2023-12-03 23:35:05,799 INFO API token is valid for the 'Global' region. Configurations updated; subsequent commands will target this region.
2023-12-03 23:35:05,800 INFO 
                                                                                
                               Bye! JSI CLI ends.                               
                                                                                

2023-12-04 00:02:21,993 INFO 
################################################################################
                               [ JSI CLI STARTS ]                               
################################################################################

2023-12-04 00:02:21,994 INFO sys.argv: ['/var/db/scripts/op/jsi', '--api-token', 'set']
2023-12-04 00:02:21,994 INFO 
********************************************************************************
                             API-TOKEN SET COMMAND                             
********************************************************************************

2023-12-04 00:02:21,995 DEBUG call "user_self" function...
2023-12-04 00:02:21,995 DEBUG call "get_csrftoken" function...
2023-12-04 00:02:22,289 DEBUG 
============ BEGIN ============

<<<<<<<<<<<< Send
    Request URL: "https://api.mist.com/api/v1/self"
    Request Method: GET
    Request Headers:
        {
            "User-Agent": "python-requests/2.28.1",
            "Accept-Encoding": "gzip, deflate",
            "Accept": "*/*",
            "Connection": "keep-alive",
            "Content-Type": "application/json"
        }
    Request Payload:
        None

>>>>>>>>>>>> Receive
    Response URL: "https://api.mist.com/api/v1/self"
    Response Status Code: 401
    Response Headers:
        {
            "Date": "Mon, 04 Dec 2023 05:03:56 GMT",
            "Content-Type": "application/json",
            "Content-Length": "58",
            "Connection": "keep-alive",
            "WWW-Authenticate": "Custom realm=\"mist\"",
            "Vary": "Accept, Cookie, Origin",
            "Allow": "GET, OPTIONS, PUT, DELETE",
            "X-Frame-Options": "DENY",
            "Cache-Control": "no-cache, no-store",
            "Pragma": "no-cache",
            "Access-Control-Allow-Credentials": "true",
            "Access-Control-Expose-Headers": "X-Auth-Token,X-CSRFToken,X-Page-Limit,X-Page-Page,X-Page-Total,X-Requested-With",
            "Content-Security-Policy": "default-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';",
            "X-Content-Type-Options": "nosniff",
            "X-Xss-Protection": "1; mode=block",
            "Strict-Transport-Security": "max-age=31536000; includeSubDomains; preload",
            "Referrer-Policy": "strict-origin-when-cross-origin",
            "Permissions-Policy": "geolocation=()",
            "X-Kong-Upstream-Latency": "10",
            "X-Kong-Proxy-Latency": "0",
            "Via": "kong/2.1.4"
        }
    Response Payloads:
        {
            "detail": "Authentication credentials were not provided."
        }

============ END ==============

2023-12-04 00:02:22,289 INFO 
Enter the API Token to authenticate your requests. This token will be used for all subsequent commands.

2023-12-04 00:02:30,027 DEBUG call "api_token_set" function...
2023-12-04 00:02:30,027 DEBUG call "cloud_regions" function...
2023-12-04 00:02:30,373 DEBUG 
============ BEGIN ============

<<<<<<<<<<<< Send
    Request URL: "https://manage.mist.com/env.json"
    Request Method: GET
    Request Headers:
        {
            "User-Agent": "python-requests/2.28.1",
            "Accept-Encoding": "gzip, deflate",
            "Accept": "*/*",
            "Connection": "keep-alive",
            "Content-Type": "application/json",
            "Authorization": "Token xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
        }
    Request Payload:
        None

>>>>>>>>>>>> Receive
    Response URL: "https://manage.mist.com/env.json"
    Response Status Code: 200
    Response Headers:
        {
            "Content-Type": "application/json",
            "Content-Length": "231",
            "Connection": "keep-alive",
            "Date": "Mon, 04 Dec 2023 05:04:05 GMT",
            "x-amz-meta-s3cmd-attrs": "md5:deac37b8a2c2432b43a73f13e9325ca1",
            "Cache-Control": "no-cache, no-store, must-revalidate",
            "Content-Encoding": "gzip",
            "Last-Modified": "Tue, 21 Nov 2023 15:46:40 GMT",
            "ETag": "\"deac37b8a2c2432b43a73f13e9325ca1\"",
            "Server": "AmazonS3",
            "X-Cache": "Miss from cloudfront",
            "Via": "1.1 184a95922b126979aa787a0b813895fe.cloudfront.net (CloudFront)",
            "X-Amz-Cf-Pop": "BOS50-P2",
            "X-Amz-Cf-Id": "0NPXpZDl0snszHoRVdDbIusXjpB_wO3DqHjQJCIGWwIYN2nRNYwWSQ==",
            "X-XSS-Protection": "1; mode=block",
            "X-Frame-Options": "SAMEORIGIN",
            "Referrer-Policy": "same-origin",
            "Content-Security-Policy": "default-src https: 'self' 'unsafe-inline' data:; connect-src wss: https:; script-src https: 'unsafe-eval' 'unsafe-inline'; style-src https: 'unsafe-inline'; worker-src 'self' blob: https: 'unsafe-eval' 'unsafe-inline';",
            "X-Content-Type-Options": "nosniff",
            "Strict-Transport-Security": "max-age=31536000; includeSubDomains; preload"
        }
    Response Payloads:
        {
            "environment": "production",
            "apiBase": "https://api.mist.com/api/v1/",
            "webSocket": "wss://api-ws.mist.com/api-ws/v1/stream",
            "bucket": "https://status-production.mistsys.com/",
            "cloudRegions": [
                {
                    "name": "Global",
                    "ui": "https://manage.ac2.mist.com"
                },
                {
                    "name": "Europe",
                    "ui": "https://manage.eu.mist.com"
                },
                {
                    "name": "APAC",
                    "ui": "https://manage.ac5.mist.com"
                }
            ]
        }

============ END ==============

2023-12-04 00:02:30,374 INFO region information: [
    {
        "name": "Global",
        "ui": "https://manage.mist.com"
    },
    {
        "name": "Global",
        "ui": "https://manage.ac2.mist.com"
    },
    {
        "name": "Europe",
        "ui": "https://manage.eu.mist.com"
    },
    {
        "name": "APAC",
        "ui": "https://manage.ac5.mist.com"
    }
]
2023-12-04 00:02:30,374 INFO Call user_self for checking which API endpoint owns token: region "Global" - "https://api.mist.com"
2023-12-04 00:02:30,374 DEBUG call "user_self" function...
2023-12-04 00:02:30,680 DEBUG 
============ BEGIN ============

<<<<<<<<<<<< Send
    Request URL: "https://api.mist.com/api/v1/self"
    Request Method: GET
    Request Headers:
        {
            "User-Agent": "python-requests/2.28.1",
            "Accept-Encoding": "gzip, deflate",
            "Accept": "*/*",
            "Connection": "keep-alive",
            "Content-Type": "application/json",
            "Authorization": "Token xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
        }
    Request Payload:
        None

>>>>>>>>>>>> Receive
    Response URL: "https://api.mist.com/api/v1/self"
    Response Status Code: 200
    Response Headers:
        {
            "Date": "Mon, 04 Dec 2023 05:04:04 GMT",
            "Content-Type": "application/json",
            "Content-Length": "130",
            "Connection": "keep-alive",
            "Vary": "Accept, Cookie, Origin",
            "Allow": "GET, DELETE, PUT, OPTIONS",
            "X-Frame-Options": "DENY",
            "Cache-Control": "no-cache, no-store",
            "Pragma": "no-cache",
            "Access-Control-Allow-Credentials": "true",
            "Access-Control-Expose-Headers": "X-Auth-Token,X-CSRFToken,X-Page-Limit,X-Page-Page,X-Page-Total,X-Requested-With",
            "Content-Security-Policy": "default-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';",
            "X-Content-Type-Options": "nosniff",
            "X-Xss-Protection": "1; mode=block",
            "Strict-Transport-Security": "max-age=31536000; includeSubDomains; preload",
            "Referrer-Policy": "strict-origin-when-cross-origin",
            "Permissions-Policy": "geolocation=()",
            "X-Kong-Upstream-Latency": "34",
            "X-Kong-Proxy-Latency": "0",
            "Via": "kong/2.1.4"
        }
    Response Payloads:
        {
            "name": "t1",
            "privileges": [
                {
                    "scope": "org",
                    "org_id": "d493e95f-07ad-4163-85f0-5285cf26be94",
                    "role": "admin",
                    "name": "Juniper-test1"
                }
            ]
        }

============ END ==============

2023-12-04 00:02:30,681 INFO API token is valid for the "Global" region
2023-12-04 00:02:30,681 INFO API endpoint for the "Global" region is https://api.mist.com
2023-12-04 00:02:30,681 INFO API token is valid for the 'Global' region. Configurations updated; subsequent commands will target this region.
2023-12-04 00:02:30,682 INFO 
                                                                                
                               Bye! JSI CLI ends.                               
                                                                                



